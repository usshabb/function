LinkToArt Backend - Summary

  Overview

  LinkToArt is a portfolio-sharing platform backend that enables artists and creators to showcase their work
  through shareable catalogs. The app handles user profiles, catalog management, file uploads, analytics, and
  mailing lists for portfolio engagement tracking.

  Core Functionality

  1. User Management

  - User registration/authentication via Clerk webhooks (src/api/clerk/clerk-api.controller.ts:11)
  - Profile customization (bio, location, social links, CV, cover photo)
  - Username-based public profiles
  - Beta access control with referral codes
  - Private profile option

  2. Catalog System

  - Create/read/update/delete portfolio catalogs (src/api/catalogs/catalogs-api.controller.ts:52-74)
  - File uploads to S3 with pre-signed URLs
  - Thumbnail support
  - Password protection & email gating options
  - Download toggle functionality

  3. Analytics & Activity Tracking

  - Track views, shares, and downloads per catalog (src/api/activity/activity-api.controller.ts:26-44)
  - Date-range analytics queries
  - Visitor tracking for catalogs
  - CSV export of subscribers

  4. Mailing List

  - Email collection per catalog (src/api/mailingList/mailingList-api.controller.ts:13-15)
  - Retrieve subscriber lists by catalog

  5. File Management

  - AWS S3 integration for user assets and catalogs
  - Pre-signed URL generation for secure uploads
  - Separate buckets for user assets and catalog files

  Technology Stack

  Backend Framework

  - NestJS 9.x - Progressive Node.js framework with TypeScript
  - TypeScript 5.5.4 - Type-safe development
  - Express - Underlying HTTP server (via @nestjs/platform-express)

  Database

  - MongoDB 6.8.0 - Document database via native driver
  - No ORM - Direct MongoDB client usage (src/providers/mongo/mongo.service.ts:8)

  Authentication & Authorization

  - Clerk (@clerk/clerk-sdk-node 5.0.18) - User authentication
  - Passport JWT - JWT validation strategy
  - jwks-rsa - JSON Web Key Set handling for Clerk integration (src/common/auth/auth.clerk.strategy.ts:17-22)

  Cloud Services

  - AWS SDK v3 (@aws-sdk/client-s3, @aws-sdk/s3-request-presigner) - S3 file storage
  - SendGrid (@sendgrid/mail 8.1.3) - Email delivery

  Logging & Monitoring

  - Pino (nestjs-pino, pino-http, pino-pretty) - High-performance logging (src/app.module.ts:13-27)
  - @nestjs/terminus - Health checks (src/api/health/health.controller.ts)

  Validation & Transformation

  - class-validator 0.14.1 - DTO validation
  - class-transformer 0.5.1 - Object transformation

  API Documentation

  - @nestjs/swagger 7.4.0 - OpenAPI/Swagger documentation (src/main.ts:22-31)

  Webhooks

  - Svix 1.25.0 - Webhook signature verification (likely for Clerk)

  Project Structure

  src/
  ├── api/              # API controllers layer
  │   ├── activity/     # Analytics endpoints
  │   ├── catalogs/     # Catalog CRUD
  │   ├── clerk/        # Clerk webhooks
  │   ├── health/       # Health checks
  │   ├── mailingList/  # Email subscriptions
  │   └── users/        # User management
  ├── core/             # Business logic layer
  │   ├── activity/     # Activity tracking
  │   ├── analytics/    # Analytics processing
  │   ├── catalogs/     # Catalog service
  │   ├── files/        # File handling
  │   ├── mailingList/  # Mailing list service
  │   └── users/        # User service
  ├── providers/        # External service integrations
  │   ├── mongo/        # MongoDB connection
  │   ├── s3/           # AWS S3 service
  │   └── sendgrid/     # Email service
  └── common/           # Shared utilities
      ├── auth/         # Auth guards/strategies
      ├── response/     # Response interceptors
      ├── services/     # Common services
      └── utils/        # Helper functions

  Lines of Code: ~3,150 lines of TypeScript

  Foundational Issues & Concerns

  1. Security Vulnerabilities

  - Password storage for catalogs appears to be plaintext (src/core/catalogs/catalogs.types.ts:12) - should
  use bcrypt/argon2
  - CORS enabled globally without restrictions (src/main.ts:35) - should specify allowed origins
  - No rate limiting configured for public endpoints

  2. Missing Version Control

  - Not a Git repository (per environment info) - major concern for a production codebase
  - No version history or rollback capability

  3. Configuration Management

  - No .env file present - unclear how environment variables are managed in production
  - Hardcoded configuration expectations without fallbacks
  - Missing .env.example for developer onboarding

  4. Code Quality Issues

  - README is generic NestJS template - no project-specific documentation
  - Typo in config: "Sengrid" instead of "Sendgrid" (src/providers/sendgrid/sendgrid.config.ts:5)
  - Commented-out Stripe middleware (src/main.ts:37) - leftover code suggests incomplete features
  - No test files present despite Jest configuration

  5. Dependency Management

  - Using Yarn (yarn.lock present) but package.json scripts use npm - inconsistent
  - NestJS v9 is somewhat dated (v10 available)
  - Missing peer dependencies warnings likely

  6. Database Design

  - No connection pooling configuration visible
  - No database migration system
  - Schema validation only at TypeScript level, not enforced in MongoDB

  7. Error Handling

  - Generic error handling without application-specific error codes
  - No centralized error logging strategy visible

  8. Scalability Concerns

  - Direct file system operations may not scale in containerized environments
  - No caching layer (Redis) for frequently accessed data
  - MongoDB native driver without connection retry logic configured

  9. Monitoring & Observability

  - Basic health check endpoint exists but no detailed monitoring
  - Logging configured but no APM integration
  - No distributed tracing

  10. Development Workflow

  - No CI/CD configuration files
  - No Docker/containerization setup
  - Missing pre-commit hooks for code quality

  Recommendations

  1. Immediate: Initialize git repository, add .env.example, fix password hashing
  2. Short-term: Add rate limiting, restrict CORS, write comprehensive README
  3. Medium-term: Implement caching, add test coverage, upgrade to NestJS v10
  4. Long-term: Add Redis, implement APM, create CI/CD pipeline